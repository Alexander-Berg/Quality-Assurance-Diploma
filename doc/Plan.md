# План автоматизации тестирования веб-формы сервиса покупки туров интернет-банка
## Перечень автоматизируемых сценариев:
### 1. Позитивный сценарий для форм "Оплата по карте" и "Кредит по данным карты"

_**1.1.** Корректная загрузка формы "Оплата по карте"._
* Нажать на вкладку "Купить".

**Ожидаемый результат:** 
* Во вкладке "Купить" появилась форма для заполнения с заголовком "Оплата по карте".

_**1.2.** Обычная оплата по дебетовой карте со статусом "APPROVED" и, введенными в форму, валидными значениями:_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "22";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:** 
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки.
* В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".

_**1.3.** Обычная оплата по дебетовой карте со статусом "DECLINED" и, введенными в форму, валидными значениями:_
* В поле "Номер карты" ввести "4444 4444 4444 4442";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "22";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки.
* В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**1.4.** Отображение в СУБД корректной суммы, при оплате по дебетовой карте со статусом "APPROVED" и, введенными в форму,
валидными значениями:_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "22";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки;
* В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком";
* В таблице СУБД «payment_entity», в столбце «amount», отображается корректная сумма - '45000'.

_**1.5.** Корректная загрузка формы "Кредит по данным карты":_
* Нажать на вкладку "Купить в кредит".

**Ожидаемый результат:**
* Во вкладке "Купить в кредит" появилась форма для заполнения с заголовком "Кредит по данным карты".

_**1.6.** Выдача кредита по данным банковской карты со статусом "APPROVED" и, введенными в форму, валидными значениями:_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "22";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки;
* В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".

_**1.7.** Выдача кредита по данным банковской карты со статусом "DECLINED" и, введенными в форму, валидными значениями:_
* В поле "Номер карты" ввести "4444 4444 4444 4442";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "22";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "123";
* нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки;
* В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

---

### 2. Негативный сценарий для форм "Оплата по карте" и "Кредит по данным карты"

_**2.1.** Обычная оплата по дебетовой карте с невалидным номером карты:_
* В поле "Номер карты" ввести "0000 0000 0000 0001";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "22";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки;
* В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**2.2.** Обычная оплата по дебетовой карте со статусом "APPROVED" и невалидным значением в поле "Месяц":_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "99";
* В поле "Год" ввести "22";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Месяц" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.3.** Обычная оплата по дебетовой карте со статусом "APPROVED" и невалидным значением в поле "Год", которое меньше значения текущего года:_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "20";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Год" появляется сообщение красными буквами "Истёк срок действия карты".

_**2.4.** Обычная оплата по дебетовой карте со статусом "APPROVED" и  невалидным значением в поле "Год", которое не может быть сроком действия карты:_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "99";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Год" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.5.** Обычная оплата по дебетовой карте со статусом "APPROVED" и невалидным значением в поле "Владелец":_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "22";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Владелец" появляется сообщение «Неверный формат».
* Кнопка "Продолжить" не меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки. Отправка формы не выполняется.

_**2.6.** Отправка пустой формы "Оплата по карте":_
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат";
* Под полем "Владелец" - "Поле обязательно для заполнения";
* Форма не отправлена.

_**2.7.** Заполнение полей формы "Оплата по карте" валидными значениями после отправки пустой формы:_
* Нажать на кнопку "Продолжить".
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "22";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* После нажатия на кнопку "Продолжить", для отправки пустой формы, форма не отправилась;
   * Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат»
   * Под полем "Владелец" - "Поле обязательно для заполнения».
* После корректного заполнения полей, кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки. 
   * Форма отправлена. В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком". 
   * Всплывающие окна с параметром «visible».
* Сообщения (красным цветом), о некорректном заполнении всех полей или отсутствии данных в некоторых полях формы, не появляются.


_**2.8.** Заполнение полей формы "Оплата по карте" невалидными значениями:_
* В поле "Номер карты" ввести "0000 0000 0000 0001";
* В поле "Месяц" ввести "80";
* В поле "Год" ввести "99";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице;
* В поле "CVC/CVV" ввести "66";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полями "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV", появляется сообщение красными буквами "Неверный формат".

_**2.9.** Выдача кредита по данным банковской карты с невалидным номером карты:_
* в поле "Номер карты" ввести "9999 9999 9999 9999";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "22";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки.
* В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**2.10.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Месяц":_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "99";
* В поле "Год" ввести "22";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Месяц" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.11.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Год", которое меньше значения текущего года:_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "21";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Год" появляется сообщение красными буквами "Истёк срок действия карты".

_**2.12.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Год", которое не может быть сроком действия карты:_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "99";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Год" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.13.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Владелец":_
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "25";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Владелец" красными буквами появляется сообщение красными буквами "Неверный формат".

_**2.14.** Отправка пустой формы «Кредит по данным карты»:_
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат";
* Под полем "Владелец" - "Поле обязательно для заполнения". 
* Форма не отправлена.

_**2.15.** Заполнение полей формы «Кредит по данным карты» валидными значениями после отправки пустой формы:_
* Нажать на кнопку "Продолжить".
* В поле "Номер карты" ввести "4444 4444 4444 4441";
* В поле "Месяц" ввести "08";
* В поле "Год" ввести "22";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* В поле "CVC/CVV" ввести "123";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* После нажатия на кнопку "Продолжить", для отправки пустой формы, форма не отправилась. 
   * Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат»
   * Под полем "Владелец" - "Поле обязательно для заполнения».
* После корректного заполнения полей, кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки. 
   * Форма отправлена. 
   * В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".
   * Всплывающие окна с параметром «visible».
* Сообщения (красным цветом), о некорректном заполнении всех полей или отсутствии данных в некоторых полях формы, не появляются.


_**2.16.** Заполнение полей формы «Кредит по данным карты» невалидными значениями:_
* В поле "Номер карты" ввести "9999 9999 9999 9999";
* В поле "Месяц" ввести "80";
* В поле "Год" ввести "99";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице;
* В поле "CVC/CVV" ввести "66";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полями "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV", появляется сообщение красными буквами "Неверный формат".

### Перечень используемых инструментов:
_**1. IntelliJ IDEA** - интегрированная среда разработки программного обеспечения, в которой будет выполняться написание автоматизированных сценариев;_

Преимущество:
* Подсветка кода;
* Автоматическое завершение строки;
* Настраиваемые горячие клавиши;
* Настройка шрифтов;
* Выбор цветовой схемы редактора кода.

_**2. Java (JDK 11)** - объектно-ориентированный язык программирования, на котором будет выполняться написание автоматизированных сценариев;_
  
Преимущество:
* Простота;
* Объектно-ориентированный подход (ООП);
* Безопасность;
* Производительность;
* Надёжность;
* Независимость от аппаратной части и ОС;
* Динамичность и адаптируемость;
* Удобные и эффективные сетевые возможности;

_**4. Gradle** - система автоматической сборки;_

Преимущество:
* Версия нового поколения, основанная на инструменте сборки JVM, который сочетает в себе преимущества Ant и Maven;
* Использует основанный на Groovy DSL, который отказывается от XML и является более мощным и выразительным;
* Предоставляет набор методов управления зависимостями, которые не только хорошо настраиваются, но и совместимы с Maven и Ivy;
* Поддерживает плавную миграцию проектов сборки Ant и Maven.

_**5. JUnit5** - библиотека для тестирования программного обеспечения;_

Преимущество:
* Использует функционал Java 8 или более поздних релизов;
* Добавлено функций для описания, организации и выполнения тестов;
* Возможность использовать более одного процесса тестирования за раз, чего нельзя сделать в JUnit4.

_**6. Lombok** - библиотека генерации кода;_

Преимущество:
* Просто генерирует код;
* Нет семантики;
* Работает для любой версии начиная с Java 6

_**7. Selenide** - инструмент для тестирования Web-приложений;_

Преимущество:
* Встроенное неявное ожидание
* Автоматически закрытие браузера после запуска варианта использования
* Код прост и удобен для чтения
* Автоматически делать скриншоты неудачных тестов
* Можно использовать с селеном.

_**8. AppVeyor** - веб-сервис непрерывной интеграции, предназначенный для сборки и тестирования;_

Преимущество:
* Поддерживается несколько систем управления версиями:
* GitHub.com и GitHub Enterprise
* Bitbucket.com и сервер Bitbucket
* GitLab.com и GitLab Enterprise
* Azure DevOps (репозитории Git и TFVC)
* Настройка CI проектов через пользовательский интерфейс или в точечном файле appveyor.yml.
* Полный sud доступ к виртуальной машине под управлением сборки
* SQL Server 2017 для Linux.
* Bash и ядро PowerShell для управления потоком сборки.
* Параллельная конфигурация как для Windows, так и для Linux-сборок.
* Предустановленный сервис Docker.
* Встроенный сервер NuGet.
* Единый кросс-платформенный Build Worker API как в Windows (сообщения, результаты тестов).

_**9. Allure** - инструмент построения отчетов автотестов;_

Преимущество:
* Гибкий легкий многоязычный инструмент отчета о тестировании;
* Сокращает общий жизненный цикл дефектов;
* Модульность и расширяемость.
  
_**10. Faker** - библиотека генерации данных, с помощью которой, будут созданы данные пользователя (клиента банка);_

Преимущество:
* Faker позволяет с легкостью генерировать данные и организовывать работу через API.
  
_**11. Git** - инструмент, позволяющий реализовать распределённую систему контроля версий;_

Преимущество:
* Откат к определенной точке в разработке; 
* Логирование (ведение журнала) изменений в проекте;
* Быстрое и удобное обновление файлов на сервере (сравнивал на личном опыте, это удобней FTP загрузки);
* Возможность командной разработки.

_**12. GitHub** - сервис онлайн-хостинга репозиториев, обладающий всеми функциями распределённого контроля версий и функциональностью управления исходным кодом._

Преимущество:
* Распределенная VCS, которую можно использовать в автономном режиме.
* Git настолько вездесущ, что большинство других разработчиков знакомы с ним, многие проекты с открытым исходным кодом размещаются на GitHub, поэтому это отличное место, чтобы найти и внести свой вклад в эти проекты.
* GitHub также включает сторонние интеграции, чтобы упростить рабочие процессы.
---

### Перечень и описание возможных рисков при автоматизации:
* Возможны ошибки при написании автотестов;
* Возможны ошибки в автотестах, связанные с техническим сбоем;
* Возможны ошибки в автотестах, в связи с изменением кода;
* Неоправданная стоимость и затраты на автоматизацию тестирования;
* Возможен некорректный запуск симулятора банковских карт;
* Возможны сложности при настройке двух СУБД ("MySQL" и "PostgreSQL"), и корректном подключении к каждой из них.

### Интервальная оценка с учётом рисков (в часах):
**Интервальная оценка составляет 72 часа.**
1. Планирование автоматизации тестирования: 20 часов;
2. Автоматизация тестирования: 36 часов;
3. Отчетные документы по итогам автоматизированного тестирования: 8 часа;
4. Отчетные документы по итогам автоматизации: 8 часа;
5. Дополнительно на устранение последствий наступления рисков +15%-25% времени для реализации проекта ~10-18 часов.

### План сдачи работы:
1. Планирование автоматизации тестирования: до 23.07.2021
2. Автоматизация тестирования: до 05.08.2021
3. Отчетные документы по итогам автоматизированного тестирования: до 10.08.2021
4. Отчетные документы по итогам автоматизации: до 16.08.2021